{% macro preloader(bg_color, icon_filter='invert(66%) sepia(5%) saturate(99%) hue-rotate(156deg) brightness(94%) contrast(92%)', 
    animation_dur = '1620ms') %}
<!-- Preloader's content-blocker area -->
<div id="content-blocker">
	<style>
        #content-blocker {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: {{ bg_color }};
            z-index: 1001;
        }
        
        #loading-circle {
            width: 64px;
            height: auto;
            height: 100px;
            position: absolute;
            top: 50%;
            margin-top: -64px;
            left: 50%;
            margin-left: -32px;
            filter: {{ icon_filter }};
            -webkit-animation-name: rotation;
            -webkit-animation-duration: {{ animation_dur }};
            -webkit-animation-iteration-count: infinite;
            -webkit-animation-timing-function: linear;
            -moz-animation-name: rotation;
            -moz-animation-duration: {{ animation_dur }};
            -moz-animation-iteration-count: infinite;
            -moz-animation-timing-function: linear;
            -o-animation-name: rotation;
            -o-animation-duration: {{ animation_dur }};
            -o-animation-iteration-count: infinite;
            -o-animation-timing-function: linear;
            animation-name: rotation;
            animation-duration: {{ animation_dur }};
            animation-iteration-count: infinite;
            animation-timing-function: linear;
        }
        
        @-webkit-keyframes rotation {
            0% {
                -webkit-transform: rotate(0deg);
                -moz-transform: rotate(0deg);
                -o-transform: rotate(0deg);
                transform: rotate(0deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
                -moz-transform: rotate(360deg);
                -o-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
        
        @-moz-keyframes rotation {
            0% {
                -webkit-transform: rotate(0deg);
                -moz-transform: rotate(0deg);
                -o-transform: rotate(0deg);
                transform: rotate(0deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
                -moz-transform: rotate(360deg);
                -o-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
        
        @-o-keyframes rotation {
            0% {
                -webkit-transform: rotate(0deg);
                -moz-transform: rotate(0deg);
                -o-transform: rotate(0deg);
                transform: rotate(0deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
                -moz-transform: rotate(360deg);
                -o-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
        
        @keyframes rotation {
            0% {
                -webkit-transform: rotate(0deg);
                -moz-transform: rotate(0deg);
                -o-transform: rotate(0deg);
                transform: rotate(0deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
                -moz-transform: rotate(720deg);
                -o-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
	</style>
	<div role="status">
		<svg width="64px" height="64px" viewBox="0 0 128 128" xml:space="preserve" id="loading-circle">
			<g>
				<path d="M64 127.75A63.76 63.76 0 0 1 52.8 1.23v14.23a49.8 49.8 0 1 0 22.4 0V1.23A63.76 63.76 0 0 1 64 127.75z" fill="#000" /> </g>
		</svg>
	</div>
</div>

<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function () {
        var cont_blocker = document.getElementById("content-blocker");
        var s = cont_blocker.style;
        s.opacity = 1;
        (function fade() { (s.opacity -= .1) < 0 ? s.display = "none" : setTimeout(fade, 40) })();
    });
</script>
<!-- End of preloader -->
{% endmacro %}
